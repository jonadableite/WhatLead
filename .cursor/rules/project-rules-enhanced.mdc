---
description: Regras consolidadas e aprimoradas do projeto WhatLead - SaaS de WhatsApp Marketing
alwaysApply: true
---

# ğŸš€ WhatLead - Regras do Projeto (VersÃ£o Aprimorada)

## ğŸ“‹ Contexto do Projeto

### O que Ã© o WhatLead?

**WhatLead** Ã© uma plataforma SaaS completa de WhatsApp Marketing que oferece:

1. **AutomaÃ§Ã£o de Vendas**: Sistema completo para automatizar campanhas de WhatsApp
2. **ProteÃ§Ã£o Anti-Ban**: Tecnologia avanÃ§ada para proteger contas e evitar bloqueios
3. **Disparos em Massa**: Envio de milhares de mensagens personalizadas com alto Ã­ndice de entrega
4. **IA AvanÃ§ada**: MÃºltiplos modelos de IA para configurar automaÃ§Ãµes inteligentes
5. **Sistema de Aquecimento**: Aquecimento completo e personalizado de contas WhatsApp
6. **AnÃ¡lise de Resultados**: Dashboards detalhados com mÃ©tricas e resultados em tempo real

### PÃºblicos-Alvo

- **MARKETER**: Profissionais de marketing que gerenciam campanhas
- **BUSINESS_OWNER**: Donos de negÃ³cios que querem automatizar vendas
- **AGENCY**: AgÃªncias que gerenciam mÃºltiplos clientes
- **ADMIN**: Administradores da plataforma
- **SUPPORT**: Equipe de suporte (somente leitura)

### DomÃ­nios de NegÃ³cio

1. **AutomaÃ§Ã£o**: Campanhas, mensagens, templates, agendamentos
2. **ProteÃ§Ã£o**: Sistema anti-ban, aquecimento de contas, limites de seguranÃ§a
3. **IA e Agentes**: Modelos de IA, agentes conversacionais, personalizaÃ§Ã£o
4. **Disparos**: Envio em massa, filas, rate limiting, delivery tracking
5. **Analytics**: MÃ©tricas, dashboards, relatÃ³rios, conversÃµes
6. **Contas WhatsApp**: GestÃ£o de contas, conexÃµes, sessÃµes, status

---

## ğŸ—ï¸ Arquitetura e PadrÃµes Fundamentais

### Arquitetura de MicroserviÃ§os (EscalÃ¡vel e DistribuÃ­da)

**REGRA CRÃTICA**: O WhatLead utiliza arquitetura de microserviÃ§os para mÃ¡xima escalabilidade. Cada domÃ­nio de negÃ³cio Ã© um microserviÃ§o independente com seu prÃ³prio banco de dados.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    apps/web (Frontend)                        â”‚
â”‚              Next.js, React, UI Components                    â”‚
â”‚                  tRPC Client (type-safe)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ HTTP/gRPC
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              API Gateway (apps/server)                         â”‚
â”‚         Fastify, tRPC Routers, Request Routing                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚           â”‚           â”‚           â”‚
        â”‚           â”‚           â”‚           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Campaign    â”‚ â”‚ Message â”‚ â”‚ WhatsAppâ”‚ â”‚  Analytics      â”‚
â”‚  Service     â”‚ â”‚ Service â”‚ â”‚ Service â”‚ â”‚  Service        â”‚
â”‚              â”‚ â”‚         â”‚ â”‚         â”‚ â”‚                 â”‚
â”‚  PostgreSQL  â”‚ â”‚PostgreSQLâ”‚ â”‚PostgreSQLâ”‚ â”‚  PostgreSQL    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚           â”‚           â”‚           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      Message Broker                â”‚
        â”‚  (RabbitMQ / Kafka / Redis)        â”‚
        â”‚  - Event-driven communication      â”‚
        â”‚  - Async processing                â”‚
        â”‚  - Service decoupling              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Anti-Ban Service â”‚ AI Service    â”‚
        â”‚  PostgreSQL       â”‚ PostgreSQL    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### MicroserviÃ§os e DomÃ­nios

**Cada microserviÃ§o possui**:

- âœ… Banco de dados PostgreSQL prÃ³prio e isolado
- âœ… API REST/gRPC independente
- âœ… Processamento assÃ­ncrono via Message Broker
- âœ… Escalabilidade horizontal independente
- âœ… Deploy e versionamento independentes

**MicroserviÃ§os Identificados**:

1. **campaign-service** (AutomaÃ§Ã£o)

   - DomÃ­nio: Campanhas, Templates, Agendamentos
   - Database: `campaign_db`
   - Responsabilidades: CRUD de campanhas, templates, agendamentos

2. **message-service** (Disparos)

   - DomÃ­nio: Envio de mensagens, Fila de processamento
   - Database: `message_db`
   - Responsabilidades: Envio, tracking, status de mensagens

3. **whatsapp-service** (Contas WhatsApp)

   - DomÃ­nio: GestÃ£o de contas, conexÃµes, sessÃµes
   - Database: `whatsapp_db`
   - Responsabilidades: CRUD de contas, status de conexÃ£o

4. **anti-ban-service** (ProteÃ§Ã£o)

   - DomÃ­nio: Rate limiting, aquecimento, proteÃ§Ã£o
   - Database: `antiban_db`
   - Responsabilidades: Rate limits, warmup sessions, health monitoring

5. **ai-service** (IA e Agentes)

   - DomÃ­nio: Agentes de IA, conversas, modelos
   - Database: `ai_db`
   - Responsabilidades: Processamento de IA, geraÃ§Ã£o de respostas

6. **analytics-service** (Analytics)

   - DomÃ­nio: MÃ©tricas, dashboards, relatÃ³rios
   - Database: `analytics_db`
   - Responsabilidades: AgregaÃ§Ã£o de dados, relatÃ³rios

7. **auth-service** (AutenticaÃ§Ã£o)
   - DomÃ­nio: UsuÃ¡rios, sessÃµes, permissÃµes
   - Database: `auth_db`
   - Responsabilidades: AutenticaÃ§Ã£o, autorizaÃ§Ã£o (Better Auth)

### Message Broker (ComunicaÃ§Ã£o AssÃ­ncrona)

**REGRA CRÃTICA**: ComunicaÃ§Ã£o entre microserviÃ§os deve ser assÃ­ncrona via Message Broker.

**Tecnologias Suportadas**:

- **RabbitMQ** (Recomendado para filas e routing)
- **Apache Kafka** (Para alta throughput e event streaming)
- **Redis Streams** (Para casos simples e baixa latÃªncia)

**PadrÃµes de ComunicaÃ§Ã£o**:

1. **Event-Driven (Pub/Sub)**

   ```typescript
   // âœ… CORRETO - Publicar evento
   await messageBroker.publish("message.sent", {
     messageId: "xxx",
     campaignId: "xxx",
     timestamp: new Date(),
   });

   // âœ… CORRETO - Subscrever evento
   await messageBroker.subscribe("message.sent", async (event) => {
     await analyticsService.recordMessageSent(event);
   });
   ```

2. **Request/Reply (RPC via Message Broker)**

   ```typescript
   // âœ… CORRETO - RequisiÃ§Ã£o assÃ­ncrona
   const result = await messageBroker.request("rate-limit.check", {
     accountId: "xxx",
     messageCount: 10,
   });
   ```

3. **Work Queue (Processamento em Background)**
   ```typescript
   // âœ… CORRETO - Enfileirar trabalho
   await messageBroker.enqueue("message.send", {
     messageId: "xxx",
     phoneNumber: "xxx",
     message: "xxx",
   });
   ```

**Diretrizes de Message Broker**:

- âœ… **SEMPRE** usar Message Broker para comunicaÃ§Ã£o entre serviÃ§os
- âœ… **SEMPRE** garantir idempotÃªncia em handlers de eventos
- âœ… **SEMPRE** implementar retry com backoff exponencial
- âœ… **SEMPRE** usar correlation IDs para rastreamento
- âœ… **SEMPRE** validar eventos recebidos com Zod
- âŒ **NUNCA** comunicaÃ§Ã£o sÃ­ncrona direta entre serviÃ§os (exceto API Gateway)
- âŒ **NUNCA** acoplar serviÃ§os via banco de dados compartilhado

### Database per Service (Database Isolation)

**REGRA CRÃTICA**: Cada microserviÃ§o possui seu prÃ³prio banco de dados PostgreSQL isolado.

**Diretrizes de Database**:

- âœ… **SEMPRE** um banco de dados por microserviÃ§o
- âœ… **SEMPRE** usar Prisma com schema isolado por serviÃ§o
- âœ… **SEMPRE** migraÃ§Ãµes independentes por serviÃ§o
- âœ… **SEMPRE** connection pooling otimizado por serviÃ§o
- âŒ **NUNCA** acessar banco de dados de outro serviÃ§o diretamente
- âŒ **NUNCA** compartilhar tabelas entre serviÃ§os
- âŒ **NUNCA** usar JOINs entre bancos de diferentes serviÃ§os

**ComunicaÃ§Ã£o entre Dados**:

- âœ… Usar Message Broker para sincronizaÃ§Ã£o eventual
- âœ… Usar API do serviÃ§o para queries cross-service
- âœ… Implementar CQRS quando necessÃ¡rio (separar read/write models)

### Diretrizes de DependÃªncia (MicroserviÃ§os)

**ComunicaÃ§Ã£o Permitida**:

- âœ… Frontend â†’ API Gateway (tRPC Client)
- âœ… API Gateway â†’ MicroserviÃ§os (HTTP/gRPC)
- âœ… MicroserviÃ§os â†’ Message Broker (Eventos)
- âœ… MicroserviÃ§os â†’ PrÃ³prio Database (Isolado)

**ComunicaÃ§Ã£o Proibida**:

- âŒ Frontend â†’ MicroserviÃ§os diretamente (PROIBIDO)
- âŒ MicroserviÃ§o â†’ Database de outro microserviÃ§o (PROIBIDO)
- âŒ MicroserviÃ§os â†’ MicroserviÃ§os sÃ­ncronamente (PROIBIDO - usar Message Broker)
- âŒ Business Logic â†’ Frontend (PROIBIDO)

### PrincÃ­pios SOLID

1. **Single Responsibility**: Uma classe/funÃ§Ã£o = uma responsabilidade
2. **Open/Closed**: Aberto para extensÃ£o, fechado para modificaÃ§Ã£o
3. **Liskov Substitution**: Subtipos substituÃ­veis por tipos base
4. **Interface Segregation**: Interfaces especÃ­ficas, nÃ£o genÃ©ricas
5. **Dependency Inversion**: Depender de abstraÃ§Ãµes, nÃ£o implementaÃ§Ãµes

### Clean Code

- **Nomes descritivos**: `sendWhatsAppMessage` âœ… | `sendMsg` âŒ
- **FunÃ§Ãµes pequenas**: MÃ¡ximo 50 linhas, preferencialmente < 30
- **Early returns**: Evitar aninhamento de if/else
- **DRY**: Extrair lÃ³gica repetida para funÃ§Ãµes/classes
- **Magic numbers**: Sempre usar constantes nomeadas
- **ComentÃ¡rios**: Apenas quando necessÃ¡rio (cÃ³digo auto-explicativo)

---

## ğŸ”’ Type Safety e ValidaÃ§Ã£o

### TypeScript Strict Mode

**REGRAS OBRIGATÃ“RIAS**:

- âŒ **NUNCA** usar `any` - Use `unknown` quando necessÃ¡rio
- âŒ **NUNCA** usar `var` - Use `const` ou `let`
- âœ… **SEMPRE** usar interfaces ao invÃ©s de types (exceto quando types forem estritamente necessÃ¡rios)
- âœ… **SEMPRE** tipar explicitamente retornos de funÃ§Ãµes
- âœ… **SEMPRE** usar arrow functions ao invÃ©s de funÃ§Ãµes convencionais
- âœ… **SEMPRE** usar async/await para Promises

### ValidaÃ§Ã£o de Dados

**Camadas de ValidaÃ§Ã£o**:

1. **tRPC Input**: Zod schemas em procedures
2. **Business Logic**: ValidaÃ§Ã£o de regras de negÃ³cio
3. **Database**: Constraints e validaÃ§Ãµes no Prisma

**Exemplo**:

```typescript
// âœ… CORRETO
import { z } from "zod";

const sendMessageSchema = z.object({
  phoneNumber: z.string().regex(/^\d{10,15}$/),
  message: z.string().min(1).max(4096),
  campaignId: z.string().uuid().optional(),
});

export const messageRouter = router({
  send: publicProcedure.input(sendMessageSchema).mutation(async ({ input }) => {
    // Business logic
  }),
});

// âŒ ERRADO
export const messageRouter = router({
  send: publicProcedure.mutation(async ({ input }: any) => {
    return input.phone * 1.1;
  }),
});
```

---

## ğŸ“ Estrutura do Projeto

### Monorepo com MicroserviÃ§os (pnpm workspaces + Turborepo)

```
WhatLead-fullstack/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ web/                          # Frontend (Next.js App Router)
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ app/                  # Routes e layouts
â”‚   â”‚       â”œâ”€â”€ components/           # Componentes React
â”‚   â”‚       â”œâ”€â”€ lib/                  # UtilitÃ¡rios e clientes
â”‚   â”‚       â””â”€â”€ utils/                # Helpers
â”‚   â”œâ”€â”€ server/                        # API Gateway (Fastify + tRPC)
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ index.ts              # Entry point
â”‚   â”‚       â”œâ”€â”€ routers/              # tRPC routers (orquestraÃ§Ã£o)
â”‚   â”‚       â””â”€â”€ gateway/              # Gateway logic
â”‚   â”œâ”€â”€ campaign-service/              # MicroserviÃ§o: Campanhas
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ index.ts              # Entry point
â”‚   â”‚       â”œâ”€â”€ api/                  # REST/gRPC endpoints
â”‚   â”‚       â”œâ”€â”€ handlers/             # Request handlers
â”‚   â”‚       â”œâ”€â”€ services/             # Business logic
â”‚   â”‚       â”œâ”€â”€ repositories/         # Data access
â”‚   â”‚       â””â”€â”€ events/               # Event handlers (Message Broker)
â”‚   â”œâ”€â”€ message-service/              # MicroserviÃ§o: Mensagens
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ index.ts
â”‚   â”‚       â”œâ”€â”€ api/
â”‚   â”‚       â”œâ”€â”€ handlers/
â”‚   â”‚       â”œâ”€â”€ services/
â”‚   â”‚       â”œâ”€â”€ repositories/
â”‚   â”‚       â”œâ”€â”€ workers/              # Background workers
â”‚   â”‚       â””â”€â”€ events/
â”‚   â”œâ”€â”€ whatsapp-service/             # MicroserviÃ§o: Contas WhatsApp
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ index.ts
â”‚   â”‚       â”œâ”€â”€ api/
â”‚   â”‚       â”œâ”€â”€ handlers/
â”‚   â”‚       â”œâ”€â”€ services/
â”‚   â”‚       â”œâ”€â”€ repositories/
â”‚   â”‚       â””â”€â”€ events/
â”‚   â”œâ”€â”€ anti-ban-service/             # MicroserviÃ§o: ProteÃ§Ã£o Anti-Ban
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ index.ts
â”‚   â”‚       â”œâ”€â”€ api/
â”‚   â”‚       â”œâ”€â”€ handlers/
â”‚   â”‚       â”œâ”€â”€ services/
â”‚   â”‚       â”œâ”€â”€ repositories/
â”‚   â”‚       â””â”€â”€ events/
â”‚   â”œâ”€â”€ ai-service/                   # MicroserviÃ§o: IA e Agentes
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ index.ts
â”‚   â”‚       â”œâ”€â”€ api/
â”‚   â”‚       â”œâ”€â”€ handlers/
â”‚   â”‚       â”œâ”€â”€ services/
â”‚   â”‚       â”œâ”€â”€ repositories/
â”‚   â”‚       â””â”€â”€ events/
â”‚   â”œâ”€â”€ analytics-service/            # MicroserviÃ§o: Analytics
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ index.ts
â”‚   â”‚       â”œâ”€â”€ api/
â”‚   â”‚       â”œâ”€â”€ handlers/
â”‚   â”‚       â”œâ”€â”€ services/
â”‚   â”‚       â”œâ”€â”€ repositories/
â”‚   â”‚       â””â”€â”€ events/
â”‚   â””â”€â”€ auth-service/                 # MicroserviÃ§o: AutenticaÃ§Ã£o
â”‚       â””â”€â”€ src/
â”‚           â”œâ”€â”€ index.ts
â”‚           â”œâ”€â”€ api/
â”‚           â”œâ”€â”€ handlers/
â”‚           â”œâ”€â”€ services/
â”‚           â””â”€â”€ repositories/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ api/                           # Shared API types (tRPC)
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ routers/              # tRPC routers (orquestraÃ§Ã£o)
â”‚   â”‚       â””â”€â”€ context.ts            # Context do tRPC
â”‚   â”œâ”€â”€ message-broker/                # Message Broker Client
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ index.ts              # Broker client
â”‚   â”‚       â”œâ”€â”€ publishers/           # Event publishers
â”‚   â”‚       â”œâ”€â”€ subscribers/          # Event subscribers
â”‚   â”‚       â””â”€â”€ types/                # Event types
â”‚   â”œâ”€â”€ db/                            # Shared Database utilities
â”‚   â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”‚   â””â”€â”€ schemas/              # Schemas por serviÃ§o
â”‚   â”‚   â”‚       â”œâ”€â”€ campaign/
â”‚   â”‚   â”‚       â”œâ”€â”€ message/
â”‚   â”‚   â”‚       â”œâ”€â”€ whatsapp/
â”‚   â”‚   â”‚       â”œâ”€â”€ antiban/
â”‚   â”‚   â”‚       â”œâ”€â”€ ai/
â”‚   â”‚   â”‚       â”œâ”€â”€ analytics/
â”‚   â”‚   â”‚       â””â”€â”€ auth/
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â””â”€â”€ index.ts              # Prisma clients export
â”‚   â”œâ”€â”€ auth/                          # Shared Auth utilities
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â””â”€â”€ index.ts              # Better Auth config
â”‚   â”œâ”€â”€ config/                        # ConfiguraÃ§Ãµes compartilhadas
â”‚   â””â”€â”€ events/                       # Event schemas e types
â”‚       â””â”€â”€ src/
â”‚           â”œâ”€â”€ schemas/              # Zod schemas para eventos
â”‚           â””â”€â”€ types/                 # TypeScript types
â””â”€â”€ docs/                              # DocumentaÃ§Ã£o
    â”œâ”€â”€ architecture/                  # Arquitetura
    â”œâ”€â”€ microservices/                # DocumentaÃ§Ã£o de microserviÃ§os
    â””â”€â”€ events/                       # Event catalog
```

### Estrutura de um MicroserviÃ§o

Cada microserviÃ§o segue esta estrutura padrÃ£o:

```
service-name/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts                      # Entry point (Fastify server)
â”‚   â”œâ”€â”€ api/                          # API endpoints
â”‚   â”‚   â”œâ”€â”€ routes.ts                 # Route definitions
â”‚   â”‚   â””â”€â”€ handlers.ts               # Request handlers
â”‚   â”œâ”€â”€ services/                     # Business logic
â”‚   â”‚   â””â”€â”€ *.service.ts
â”‚   â”œâ”€â”€ repositories/                 # Data access layer
â”‚   â”‚   â””â”€â”€ *.repository.ts
â”‚   â”œâ”€â”€ events/                       # Message Broker handlers
â”‚   â”‚   â”œâ”€â”€ publishers.ts            # Event publishers
â”‚   â”‚   â””â”€â”€ subscribers.ts            # Event subscribers
â”‚   â”œâ”€â”€ config/                       # Service configuration
â”‚   â”‚   â””â”€â”€ database.ts              # Prisma client
â”‚   â””â”€â”€ types/                        # TypeScript types
â”œâ”€â”€ prisma/
â”‚   â””â”€â”€ schema.prisma                 # Database schema (isolado)
â”œâ”€â”€ package.json
â””â”€â”€ Dockerfile                         # Container definition
```

### ConvenÃ§Ãµes de Nomenclatura

- **Classes/Interfaces**: PascalCase (`WhatsAppService`, `CampaignRepository`)
- **FunÃ§Ãµes/MÃ©todos/VariÃ¡veis**: camelCase (`sendMessage`, `createCampaign`)
- **Arquivos/DiretÃ³rios**: kebab-case (`whatsapp-service.ts`, `campaign-router.ts`)
- **Constantes**: UPPER_SNAKE_CASE (`MAX_MESSAGE_LENGTH`, `DEFAULT_RATE_LIMIT`)
- **Enums**: PascalCase (`MessageStatus`, `CampaignType`)

**REGRA**: Nomes de funÃ§Ãµes/mÃ©todos devem ser **verbos**, nunca substantivos:

- âœ… `sendMessage`, `createCampaign`, `validatePhoneNumber`
- âŒ `messageSender`, `campaignCreator`, `phoneValidator`

---

## ğŸ› ï¸ Stack TecnolÃ³gica

### Backend

- **Runtime**: Node.js 20+ com TypeScript 5.9+
- **Framework**: Fastify 5+
- **API**: tRPC (type-safe)
- **ORM**: Prisma 7+ (PostgreSQL 16+)
- **ValidaÃ§Ã£o**: Zod
- **Auth**: Better Auth
- **AI**: Vercel AI SDK com mÃºltiplos providers

### Frontend

- **Framework**: Next.js 16+ (App Router)
- **UI Library**: React 19+
- **Styling**: TailwindCSS v4 com variÃ¡veis CSS customizadas
- **Components**: Shadcn/ui, Magic UI, Aceternity UI
- **AnimaÃ§Ãµes**: Motion (framer-motion)
- **FormulÃ¡rios**: react-hook-form + zod
- **Data Fetching**: tRPC Client (type-safe)

### Regras de Estilo CSS

**OBRIGATÃ“RIO**: SEMPRE usar variÃ¡veis CSS do tema para facilitar manutenÃ§Ã£o:

```css
/* âœ… CORRETO - Usando variÃ¡veis CSS */
.card {
  background-color: var(--card);
  color: var(--foreground);
  border: 1px solid var(--border);
}

/* âŒ ERRADO - Valores hardcoded */
.card {
  background-color: #252529;
  color: #f9fafb;
  border: 1px solid #3a3a40;
}
```

**VariÃ¡veis CSS DisponÃ­veis** (definidas em `apps/web/src/index.css`):

| VariÃ¡vel                 | Uso                                 |
| ------------------------ | ----------------------------------- |
| `--background`           | Fundo principal da aplicaÃ§Ã£o        |
| `--foreground`           | Cor do texto principal              |
| `--card`                 | Fundo de cards e painÃ©is            |
| `--card-foreground`      | Texto em cards                      |
| `--primary`              | Cor primÃ¡ria (botÃµes, links) - Azul |
| `--primary-foreground`   | Texto sobre cor primÃ¡ria            |
| `--secondary`            | Cor secundÃ¡ria (acentos) - Roxo     |
| `--secondary-foreground` | Texto sobre cor secundÃ¡ria          |
| `--muted`                | Fundos suaves (tabelas, seÃ§Ãµes)     |
| `--muted-foreground`     | Texto secundÃ¡rio/desabilitado       |
| `--accent`               | Highlights e hover                  |
| `--accent-foreground`    | Texto em accent                     |
| `--destructive`          | Cor de erro/destructive             |
| `--border`               | Bordas padrÃ£o                       |
| `--input`                | Bordas de inputs                    |
| `--ring`                 | Cor de foco (outline, rings)        |

**Uso em Tailwind CSS**:

```tsx
// âœ… CORRETO - Classes que usam variÃ¡veis
<div className="bg-card text-foreground border-border">
  <button className="bg-primary text-primary-foreground hover:bg-primary/90">
    BotÃ£o
  </button>
</div>

// âœ… CORRETO - Usando cn() para classes condicionais
<div className={cn(
  "rounded-lg border border-border bg-card p-4",
  isActive && "border-primary"
)}>

// âŒ ERRADO - Valores hardcoded
<div className="bg-[#252529] text-[#f9fafb] border-[#3a3a40]">
```

**BenefÃ­cios**:

1. MudanÃ§a de tema (light/dark) automÃ¡tica
2. FÃ¡cil customizaÃ§Ã£o futura (sÃ³ alterar variÃ¡veis)
3. ConsistÃªncia visual garantida
4. Menor tamanho de bundle CSS

### Infraestrutura

- **Database**: PostgreSQL (um banco por microserviÃ§o)
- **Message Broker**: RabbitMQ (padrÃ£o) / Apache Kafka / Redis Streams
- **API Gateway**: Fastify + tRPC
- **Container Orchestration**: Docker + Kubernetes (produÃ§Ã£o)
- **Service Discovery**: Consul / Kubernetes Services
- **Monitoring**: Prometheus + Grafana
- **Logging**: ELK Stack / Loki
- **Monorepo**: Turborepo
- **Package Manager**: pnpm
- **Linting/Formatting**: Biome

---

## ğŸ’¼ Funcionalidades Principais

### AutomaÃ§Ã£o de Campanhas

- CriaÃ§Ã£o e gestÃ£o de campanhas
- Templates de mensagens
- Agendamento de envios
- PersonalizaÃ§Ã£o com variÃ¡veis
- SegmentaÃ§Ã£o de contatos

### Sistema Anti-Ban

- ProteÃ§Ã£o de contas WhatsApp
- DetecÃ§Ã£o de padrÃµes suspeitos
- Rate limiting inteligente
- SimulaÃ§Ã£o de comportamento humano
- Monitoramento de status de contas

### Disparos em Massa

- Envio de milhares de mensagens
- Fila de processamento
- Retry automÃ¡tico
- Tracking de entrega
- RelatÃ³rios de status

### IA e Agentes

- MÃºltiplos modelos de IA disponÃ­veis
- Agentes conversacionais
- Respostas automÃ¡ticas inteligentes
- PersonalizaÃ§Ã£o de mensagens
- AnÃ¡lise de sentimentos

### Sistema de Aquecimento

- Aquecimento progressivo de contas
- PersonalizaÃ§Ã£o de estratÃ©gias
- Monitoramento de mÃ©tricas
- Ajuste automÃ¡tico de limites
- ProteÃ§Ã£o durante aquecimento

### Analytics e RelatÃ³rios

- Dashboards em tempo real
- MÃ©tricas de conversÃ£o
- AnÃ¡lise de campanhas
- RelatÃ³rios detalhados
- Export de dados

---

## ğŸ§ª Testes e Qualidade

### CritÃ©rios de Cobertura

**OBRIGATÃ“RIO**: MÃ­nimo 80% de cobertura em:

- Routers tRPC (Business Logic)
- ServiÃ§os crÃ­ticos (WhatsApp, Anti-Ban, Aquecimento)
- ValidaÃ§Ãµes e regras de negÃ³cio

**RECOMENDADO**: 100% de cobertura em:

- ValidaÃ§Ãµes de entrada
- CÃ¡lculos de rate limiting
- Regras de proteÃ§Ã£o anti-ban

### Tipos de Testes

1. **Unit Tests**: LÃ³gica de negÃ³cio isolada
2. **Integration Tests**: Routers tRPC com Prisma
3. **E2E Tests**: Fluxos crÃ­ticos end-to-end
4. **Component Tests**: Componentes React

### Estrutura de Testes

```typescript
// âœ… CORRETO - Arrange, Act, Assert
describe("sendMessage", () => {
  it("should send message with valid phone number", async () => {
    // Arrange
    const caller = createCaller({ userId: "test-user" });
    const input = {
      phoneNumber: "5511999999999",
      message: "Test message",
    };

    // Act
    const result = await caller.message.send(input);

    // Assert
    expect(result.success).toBe(true);
    expect(result.messageId).toBeDefined();
  });
});
```

### Gates de Qualidade

**ANTES DE COMMIT**:

- âœ… Type-check (`pnpm check-types`)
- âœ… Lint (`pnpm check`)
- âœ… Testes unitÃ¡rios (`pnpm test:unit`)
- âœ… Testes de integraÃ§Ã£o (`pnpm test:integration`)

**ANTES DE DEPLOY**:

- âœ… Todos os testes passando
- âœ… Cobertura mÃ­nima atingida
- âœ… Build sem erros
- âœ… Migrations aplicadas

---

## ğŸ” SeguranÃ§a e Compliance

### ProteÃ§Ã£o Anti-Ban

- âŒ **NUNCA** enviar mensagens muito rÃ¡pido
- âœ… **SEMPRE** respeitar rate limits
- âœ… **SEMPRE** simular comportamento humano
- âœ… **SEMPRE** monitorar status de contas
- âœ… **SEMPRE** implementar backoff exponencial

### SeguranÃ§a de Dados

- âŒ **NUNCA** commitar secrets/credenciais
- âœ… **SEMPRE** usar variÃ¡veis de ambiente (validadas com Zod)
- âœ… **SEMPRE** usar HTTPS em produÃ§Ã£o
- âœ… **SEMPRE** sanitizar inputs do usuÃ¡rio
- âœ… **SEMPRE** validar permissÃµes antes de operaÃ§Ãµes

### IdempotÃªncia

**OBRIGATÃ“RIO** em operaÃ§Ãµes crÃ­ticas:

- Envio de mensagens (evitar duplicatas)
- CriaÃ§Ã£o de campanhas
- Processamento de filas
- Handlers de eventos do Message Broker (sempre idempotentes)
- APIs REST (usar idempotency keys)

**PadrÃ£o de IdempotÃªncia em Eventos**:

```typescript
// âœ… CORRETO - Handler idempotente
const handleMessageSent = async (event: MessageSentEvent) => {
  // Verificar se jÃ¡ processado
  const processed = await db.processedEvent.findUnique({
    where: { eventId: event.id },
  });

  if (processed) {
    return; // JÃ¡ processado, ignorar
  }

  // Processar evento
  await processMessage(event);

  // Marcar como processado
  await db.processedEvent.create({
    data: { eventId: event.id, processedAt: new Date() },
  });
};
```

---

## ğŸ“Š Observabilidade

### Logs Estruturados

**OBRIGATÃ“RIO** incluir em todos os logs:

- `traceId`: CorrelaÃ§Ã£o de requisiÃ§Ãµes
- `userId`: UsuÃ¡rio que executou a aÃ§Ã£o
- `campaignId`: Campanha relacionada (se aplicÃ¡vel)
- `action`: AÃ§Ã£o executada
- `level`: info, warn, error

```typescript
logger.info({
  traceId: "xxx",
  userId: "xxx",
  campaignId: "xxx",
  action: "message.sent",
  metadata: { phoneNumber: "xxx", messageId: "xxx" },
});
```

### MÃ©tricas

- Taxa de entrega de mensagens
- Taxa de bloqueio de contas
- Tempo mÃ©dio de processamento
- Taxa de erro por endpoint
- Uso de recursos por usuÃ¡rio

---

## ğŸš€ Workflow de Desenvolvimento

### Fluxo Operacional para Agentes

1. **Health Check**

   - Verificar lints (`read_lints`)
   - Verificar saÃºde da API (se rodando)

2. **Descoberta**

   - `codebase_search` para localizar cÃ³digo relacionado
   - `read_file` para inspecionar arquivos relevantes
   - Consultar documentaÃ§Ã£o em `docs/`

3. **Planejamento**

   - Criar TODO list (`todo_write`)
   - Identificar arquivos a alterar
   - Identificar testes necessÃ¡rios

4. **ExecuÃ§Ã£o**

   - Respeitar separaÃ§Ã£o de camadas
   - Validar inputs com Zod
   - Manter type-safety (sem `any`)
   - Usar early returns
   - Extrair constantes para magic numbers

5. **ValidaÃ§Ã£o**

   - Executar testes (`pnpm test`)
   - Verificar lints (`read_lints`)
   - Verificar type-check (`pnpm check-types`)
   - Atualizar documentaÃ§Ã£o se necessÃ¡rio

6. **DocumentaÃ§Ã£o**
   - Atualizar README/docs se comportamento mudou
   - Atualizar tRPC routers se endpoints mudaram
   - Documentar decisÃµes arquiteturais (ADRs)

### Checklist Antes de Finalizar

- [ ] Nenhum uso de `any` ou `var`
- [ ] Inputs validados (Zod)
- [ ] Erros tratados explicitamente
- [ ] SeparaÃ§Ã£o de camadas preservada
- [ ] Testes criados/atualizados
- [ ] Cobertura mÃ­nima atingida (80%)
- [ ] DocumentaÃ§Ã£o atualizada
- [ ] Logs estruturados com traceId
- [ ] Lints passando
- [ ] Type-check passando

---

## ğŸ“ ConvenÃ§Ãµes de CÃ³digo

### TypeScript

- âœ… `const` ao invÃ©s de `let` sempre que possÃ­vel
- âœ… Interfaces ao invÃ©s de types
- âœ… Arrow functions
- âœ… async/await para Promises
- âœ… ParÃ¢metros de objeto quando > 2 parÃ¢metros

```typescript
// âœ… CORRETO
interface SendMessageParams {
  phoneNumber: string;
  message: string;
  campaignId?: string;
}

const sendMessage = async (
  params: SendMessageParams
): Promise<MessageResult> => {
  // ...
};

// âŒ ERRADO
const sendMessage = async (
  phoneNumber: string,
  message: string,
  campaignId?: string
) => {
  // ...
};
```

### Node.js / Fastify

- âœ… Named exports (nunca default exports)
- âœ… Bibliotecas nativas quando possÃ­vel
- âœ… Encerrar conexÃµes apÃ³s testes

### React/Next.js

- âœ… Server Components por padrÃ£o
- âœ… Client Components apenas quando necessÃ¡rio (interatividade)
- âœ… Props tipadas com interfaces
- âœ… Componentes < 300 linhas (extrair lÃ³gica para hooks)
- âœ… Acessibilidade (WCAG 2.1 AA)
- âœ… Mobile-first design

---

## ğŸ¯ Diretrizes para Agentes

### CompreensÃ£o de Requisitos

1. **SEMPRE** ler documentaÃ§Ã£o relevante antes de implementar
2. **SEMPRE** buscar cÃ³digo existente similar (`codebase_search`)
3. **SEMPRE** confirmar entendimento com evidÃªncias (citar arquivos)
4. **NUNCA** assumir comportamento sem verificar cÃ³digo

### ImplementaÃ§Ã£o de CÃ³digo

1. **SEMPRE** seguir separaÃ§Ã£o de camadas
2. **SEMPRE** criar cÃ³digo completo e profissional (nÃ£o bÃ¡sico)
3. **SEMPRE** validar inputs com Zod
4. **SEMPRE** tratar erros explicitamente
5. **SEMPRE** manter type-safety (sem `any`)
6. **SEMPRE** usar early returns
7. **SEMPRE** extrair constantes para magic numbers

### Testes

1. **SEMPRE** criar testes para novos routers/procedures
2. **SEMPRE** manter cobertura mÃ­nima de 80%
3. **SEMPRE** seguir padrÃ£o Arrange, Act, Assert
4. **SEMPRE** encerrar conexÃµes apÃ³s testes

### DocumentaÃ§Ã£o

1. **SEMPRE** atualizar documentaÃ§Ã£o quando comportamento mudar
2. **SEMPRE** atualizar tRPC routers quando procedures mudarem
3. **SEMPRE** documentar decisÃµes arquiteturais complexas

### Resposta ao UsuÃ¡rio

1. **SEMPRE** responder em PortuguÃªs
2. **SEMPRE** citar arquivos/trechos relevantes
3. **SEMPRE** fornecer resumo das mudanÃ§as
4. **SEMPRE** listar arquivos alterados
5. **SEMPRE** indicar testes executados/status

---

## âš ï¸ ProibiÃ§Ãµes Absolutas

### CÃ³digo

- âŒ **NUNCA** usar `any`
- âŒ **NUNCA** usar `var`
- âŒ **NUNCA** usar default exports
- âŒ **NUNCA** criar cÃ³digo bÃ¡sico (sempre completo e profissional)
- âŒ **NUNCA** deixar lÃ³gica de negÃ³cio no frontend
- âŒ **NUNCA** acoplar camadas incorretamente
- âŒ **NUNCA** usar inline scripts ou eval
- âŒ **NUNCA** expor secrets no cÃ³digo

### Arquitetura

- âŒ **NUNCA** pular camadas (Frontend â†’ Database direto)
- âŒ **NUNCA** criar dependÃªncias circulares
- âŒ **NUNCA** validar apenas no frontend
- âŒ **NUNCA** acessar banco de dados de outro microserviÃ§o diretamente
- âŒ **NUNCA** comunicaÃ§Ã£o sÃ­ncrona entre microserviÃ§os (usar Message Broker)
- âŒ **NUNCA** compartilhar banco de dados entre microserviÃ§os
- âŒ **NUNCA** criar acoplamento forte entre serviÃ§os

### Testes

- âŒ **NUNCA** commitar cÃ³digo sem testes
- âŒ **NUNCA** ignorar testes falhando
- âŒ **NUNCA** deixar conexÃµes abertas apÃ³s testes

### WhatsApp / Anti-Ban

- âŒ **NUNCA** ignorar rate limits
- âŒ **NUNCA** enviar mensagens muito rÃ¡pido
- âŒ **NUNCA** ignorar status de contas
- âŒ **NUNCA** pular sistema de aquecimento

---

## âœ… Sistema de VerificaÃ§Ã£o

### Checklist ObrigatÃ³rio Antes de Entregar

#### CÃ³digo

- [ ] Type-check passando (`pnpm check-types`)
- [ ] Lint passando (`pnpm check`)
- [ ] Nenhum uso de `any` ou `var`
- [ ] SeparaÃ§Ã£o de camadas respeitada
- [ ] Inputs validados com Zod
- [ ] Erros tratados explicitamente
- [ ] Logs estruturados com traceId

#### Testes

- [ ] Testes unitÃ¡rios criados/atualizados
- [ ] Testes de integraÃ§Ã£o criados/atualizados (se aplicÃ¡vel)
- [ ] Cobertura mÃ­nima de 80% atingida
- [ ] Todos os testes passando

#### DocumentaÃ§Ã£o

- [ ] README/docs atualizados (se comportamento mudou)
- [ ] tRPC routers atualizados (se procedures mudaram)
- [ ] DecisÃµes arquiteturais documentadas (se complexas)

#### SeguranÃ§a

- [ ] Secrets nÃ£o expostos
- [ ] PermissÃµes validadas
- [ ] Inputs sanitizados
- [ ] Rate limiting implementado (se aplicÃ¡vel)

---

## ğŸ“š ReferÃªncias e DocumentaÃ§Ã£o

### Documentos Essenciais

- `.cursor/rules/agent-verification-checklist.mdc`: Checklist obrigatÃ³rio
- `.cursor/rules/apis.mdc`: DocumentaÃ§Ã£o de APIs
- `.cursor/rules/database-schema.mdc`: Esquema do banco
- `README.md`: Guia geral do projeto

### Fontes de Consulta

- **Arquitetura**: `.cursor/rules/expert-*.mdc` (DDD, System Design, etc.)
- **CÃ³digo**: `codebase_search` para encontrar implementaÃ§Ãµes
- **DocumentaÃ§Ã£o**: `docs/` para entender fluxos e regras

---

---

## ğŸ”„ PadrÃµes de ComunicaÃ§Ã£o entre MicroserviÃ§os

### Event-Driven Architecture

**PadrÃ£o Principal**: ComunicaÃ§Ã£o assÃ­ncrona via eventos.

**Eventos Principais**:

- `campaign.created` - Campanha criada
- `campaign.activated` - Campanha ativada
- `message.sent` - Mensagem enviada
- `message.delivered` - Mensagem entregue
- `message.read` - Mensagem lida
- `whatsapp.account.connected` - Conta conectada
- `whatsapp.account.banned` - Conta banida
- `warmup.started` - Aquecimento iniciado
- `warmup.completed` - Aquecimento concluÃ­do
- `rate-limit.exceeded` - Rate limit excedido

**Exemplo de PublicaÃ§Ã£o de Evento**:

```typescript
// âœ… CORRETO - Publicar evento apÃ³s aÃ§Ã£o
import { messageBroker } from "@whatlead/message-broker";

const createCampaign = async (data: CreateCampaignInput) => {
  const campaign = await campaignRepository.create(data);

  // Publicar evento
  await messageBroker.publish("campaign.created", {
    campaignId: campaign.id,
    userId: campaign.userId,
    name: campaign.name,
    timestamp: new Date(),
  });

  return campaign;
};
```

**Exemplo de SubscriÃ§Ã£o de Evento**:

```typescript
// âœ… CORRETO - Subscrever evento em outro serviÃ§o
import { messageBroker } from "@whatlead/message-broker";

messageBroker.subscribe("campaign.created", async (event) => {
  // Validar evento
  const validatedEvent = campaignCreatedSchema.parse(event);

  // Processar (idempotente)
  await analyticsService.recordCampaignCreated(validatedEvent);
});
```

### API Gateway Pattern

**Responsabilidades do API Gateway**:

- Roteamento de requisiÃ§Ãµes para microserviÃ§os corretos
- AutenticaÃ§Ã£o e autorizaÃ§Ã£o centralizada
- Rate limiting global
- Load balancing
- Request/response transformation
- Aggregation de dados de mÃºltiplos serviÃ§os

**Exemplo de Roteamento**:

```typescript
// âœ… CORRETO - API Gateway roteando para microserviÃ§o
export const campaignRouter = router({
  list: protectedProcedure.query(async ({ ctx }) => {
    // Chamar microserviÃ§o de campanhas
    const response = await fetch(`${CAMPAIGN_SERVICE_URL}/campaigns`, {
      headers: {
        Authorization: `Bearer ${ctx.session.token}`,
        "X-User-Id": ctx.user.id,
      },
    });

    return response.json();
  }),
});
```

### Circuit Breaker Pattern

**OBRIGATÃ“RIO** para chamadas entre serviÃ§os:

```typescript
// âœ… CORRETO - Circuit breaker para resiliÃªncia
import { CircuitBreaker } from "@whatlead/circuit-breaker";

const campaignServiceBreaker = new CircuitBreaker({
  failureThreshold: 5,
  resetTimeout: 60000,
  timeout: 5000,
});

const getCampaign = async (id: string) => {
  return campaignServiceBreaker.execute(async () => {
    const response = await fetch(`${CAMPAIGN_SERVICE_URL}/campaigns/${id}`);
    if (!response.ok) throw new Error("Service unavailable");
    return response.json();
  });
};
```

---

## ğŸ“Š Observabilidade em MicroserviÃ§os

### Distributed Tracing

**OBRIGATÃ“RIO** incluir traceId em todos os logs e eventos:

```typescript
// âœ… CORRETO - PropagaÃ§Ã£o de traceId
const traceId = ctx.traceId || generateTraceId();

logger.info({
  traceId,
  service: "campaign-service",
  action: "campaign.created",
  userId: ctx.user.id,
  campaignId: campaign.id,
});

// Propagar em eventos
await messageBroker.publish("campaign.created", {
  traceId, // Sempre incluir
  campaignId: campaign.id,
  // ...
});
```

### Health Checks

**OBRIGATÃ“RIO** cada microserviÃ§o expor endpoint de health:

```typescript
// âœ… CORRETO - Health check endpoint
app.get("/health", async (request, reply) => {
  const health = {
    status: "healthy",
    timestamp: new Date().toISOString(),
    checks: {
      database: await checkDatabase(),
      messageBroker: await checkMessageBroker(),
    },
  };

  const isHealthy = Object.values(health.checks).every(
    (check) => check === "ok"
  );

  return reply.code(isHealthy ? 200 : 503).send(health);
});
```

### MÃ©tricas por ServiÃ§o

Cada microserviÃ§o deve expor mÃ©tricas:

- Request rate (req/s)
- Error rate (%)
- Latency (p50, p95, p99)
- Database connection pool usage
- Message Broker queue depth
- Processing time

---

**Ãšltima atualizaÃ§Ã£o**: 2025-01-15
**VersÃ£o**: 2.0.0 (MicroserviÃ§os EscalÃ¡veis)
